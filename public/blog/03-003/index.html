<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><meta content="index, follow" name=robots><title>Packaging and Publishing Python Projects <🐍 Python></title><meta content="Packaging and Publishing Python Projects <🐍 Python>" name=title><meta content="Samuel Wang" name=author><meta content="Post on Python's Packaging" name=description><meta content=website property=og:type><meta content=https://zebraalgebra-personal-page.netlify.app/blog/03-003/ property=og:url><meta property=og:site_name><meta content="Packaging and Publishing Python Projects <🐍 Python>" property=og:title><meta content="Post on Python's Packaging" property=og:description><meta content=https://zebraalgebra-personal-page.netlify.app/favicon.png property=og:image><link href=https://zebraalgebra-personal-page.netlify.app/blog/03-003/ rel=canonical><link rel="shortcut icon" href=https://zebraalgebra-personal-page.netlify.app/favicon.png type=image/x-icon><link href=https://zebraalgebra-personal-page.netlify.app/css/style.css rel=stylesheet><script src=https://zebraalgebra-personal-page.netlify.app/js/script.js></script><body><div class=wrapper><header><nav class=navBar><a href=https://zebraalgebra-personal-page.netlify.app>/home/</a><a href=https://zebraalgebra-personal-page.netlify.app/about>/about/</a><a href=https://zebraalgebra-personal-page.netlify.app/blog>/blog/</a><a href=https://zebraalgebra-personal-page.netlify.app/contact>/contact/</a><a href=https://zebraalgebra-personal-page.netlify.app/projects>/projects/</a><div class=themeSwitch><button class="themeButton light" onclick="setTheme('light')" title="Light mode"><svg class="icons icons__background"><use href=https://zebraalgebra-personal-page.netlify.app/icons.svg#lightMode></use></svg></button><button class="themeButton dark" onclick="setTheme('dark')" title="Dark mode"><svg class="icons icons__background"><use href=https://zebraalgebra-personal-page.netlify.app/icons.svg#darkMode></use></svg></button></div></nav></header><main><h1>Packaging and Publishing Python Projects <🐍 Python></h1><p>In this post, I will be writing about the steps of publishing a package, as well as what resources helped me the most.<blockquote><p>Disclaimer: Since my package is a relatively simple and small one, this tutorial does not present the best practices on the process of packaging, publishing a project, but rather, a basic way of doing so.</blockquote><h2 id=background>Background</h2><p>I recently worked on a school project in the course <a href=https://omscs.gatech.edu/isye-6644-simulation-and-modeling-engineering-and-science rel=noopener target=_blank>ISYE6644 Simulation</a> and wrote some Python code for it.<p>Throughout the process I was thinking: well, maybe if I can build, publish this as a Python package, and that people can run <code>pip install</code> to install it, wouldn’t that be pretty fun?<p>After going through some tutorials and going through some documentations (which is not an entirely trivial process), I finally published the <a href=https://test.pypi.org/project/flusim/0.0.1/ rel=noopener target=_blank>package</a> on <a href=https://test.pypi.org/ rel=noopener target=_blank>testpypi</a>.<p><img alt src=../flusim.png><p>The amazing tutorial that helped me the most is the <a href="https://www.youtube.com/watch?v=5KEObONUkik&t=936s&pp=ygUZYXJqYW5jb2RlcyBweXRob24gcGFja2FnZQ%3D%3D" rel=noopener target=_blank>Youtube video by ArjanCodes</a>, and I highly recommend checking it out.<h2 id=overview-of-the-process>Overview of the Process</h2><p>The process of building a project is roughly as follows:<ol><li>You need to have the source codes, and a <code>setup.py</code> file ready.<li>Run <code>setuptools</code> on <code>setup.py</code> to build a distribution file.<li>Check the generated distribution files using <code>twine</code>.<li>Upload the package to <code>pypi</code> or <code>testpypi</code> - also using <code>twine</code>.</ol><p>Pretty straightforward, isn’t it?<h2 id=the-syntaxes>The Syntaxes</h2><p>You can check out my project directory structure at my <a href=https://github.com/ZebraAlgebra/flusim rel=noopener target=_blank>Github repo</a>.<blockquote><p>In order for these commands in the following sections to work, you will first need to <code>pip install</code> the packages <code>twine, wheel, setuptools</code>.</blockquote><h3 id=setup-and-build>Setup and Build</h3><p>My <code>setup.py</code> file is configured as follows:<pre class=language-python data-lang=python style=background:#282828;color:#fdf4c1aa><code class=language-python data-lang=python><span style=color:#fa5c4b>from </span><span>setuptools </span><span style=color:#fa5c4b>import </span><span>setup, find_packages
</span><span>
</span><span style=color:#fa5c4b>with </span><span style=color:#fabd2f>open</span><span style=color:#fdf4c1>(</span><span style=color:#b8bb26>"app/README.md"</span><span style=color:#fdf4c1>, </span><span style=color:#b8bb26>"r"</span><span style=color:#fdf4c1>) </span><span style=color:#fa5c4b>as </span><span>f:
</span><span>    long_description </span><span style=color:#fe8019>= </span><span style=color:#fdf4c1>f.read()
</span><span>
</span><span style=color:#fdf4c1>setup(
</span><span style=color:#fdf4c1>    name</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"flusim"</span><span style=color:#fdf4c1>,
</span><span style=color:#fdf4c1>    version</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"0.0.1"</span><span style=color:#fdf4c1>,
</span><span style=color:#fdf4c1>    description</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"Simulation, computation, visualization of some statistics for a small-scale flu-spread problem."</span><span style=color:#fdf4c1>,
</span><span style=color:#fdf4c1>    long_description</span><span style=color:#fe8019>=</span><span style=color:#fdf4c1>long_description,
</span><span style=color:#fdf4c1>    long_description_content_type</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"text/markdown"</span><span style=color:#fdf4c1>,
</span><span style=color:#fdf4c1>    package_dir</span><span style=color:#fe8019>=</span><span style=color:#fdf4c1>{</span><span style=color:#b8bb26>""</span><span style=color:#fdf4c1>: </span><span style=color:#b8bb26>"app"</span><span style=color:#fdf4c1>},
</span><span style=color:#fdf4c1>    author</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"Samuel Wang"</span><span style=color:#fdf4c1>,
</span><span style=color:#fdf4c1>    author_email</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"swang3068@gatech.edu"</span><span style=color:#fdf4c1>,
</span><span style=color:#fdf4c1>    url</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"https://github.com/ZebraAlgebra/flu-   sim"</span><span style=color:#fdf4c1>,
</span><span style=color:#fdf4c1>    license</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"MIT"</span><span style=color:#fdf4c1>,
</span><span style=color:#fdf4c1>    packages</span><span style=color:#fe8019>=</span><span style=color:#fdf4c1>find_packages(where</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"app"</span><span style=color:#fdf4c1>),
</span><span style=color:#fdf4c1>)
</span></code></pre><p>After that, run the following in terminal (my terminal is git bash):<pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>python setup.py bdist_wheel sdist
</span></code></pre><p>which will build:<ol><li>A <code>build</code> folder containing a copy of your source codes.<li>A <code>dist</code> folder with a <code>.whl</code> (wheel) file, a <code>.tar.gz</code> file.<li>An <code>.egg-info</code> containing some other metadata (in your source code folder).</ol><h3 id=check>Check</h3><p>Now one can use <code>twine</code> to check if things are alright via:<pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>twine check dist/</span><span style=color:#fe8019>*
</span></code></pre><p>and it will complain if some infos are not present; here, recall that <code>dist</code> is the folder built by <code>setuptools</code>.<h3 id=publishing>Publishing</h3><p>To publish, first register an account on <a href=https://pypi.org/ rel=noopener target=_blank>PyPI</a>, or the associated testing site <a href=https://test.pypi.org/ rel=noopener target=_blank>test PyPI</a>.<blockquote><p>ArjanCodes recommends <strong>first upload it on test PyPI</strong>, since PyPI is the official index. Also, since recently PyPI closed its registration (due to spam registrations), one can only create accounts on test PyPI.</blockquote><p>To publish on PyPI, run:<pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>twine upload dist/</span><span style=color:#fe8019>*
</span></code></pre><p>and enter the credentials. To publish on test PyPI, modify the command to:<pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>twine upload -r testpypi dist/</span><span style=color:#fe8019>*
</span></code></pre><blockquote><p>Additional details: One might need to enable 2FA on test PyPI and generate tokens to succesfully publish a package, but the test PyPI site will walk you through these.</blockquote><p class=tagsData></main><footer><hr><div class=footContainer><div class=footLeft><p>Powered by <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a> with <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a> theme & <a rel="noopener noreferrer" href=https://github.com/Speyll/veqev target=_blank>veqev</a> colors.<br></div></div></footer></div>