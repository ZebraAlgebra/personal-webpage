<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><meta content="index, follow" name=robots><title><🐍 python> Python package management</title><meta content="<🐍 python> Python package management" name=title><meta content="Samuel Wang" name=author><meta content="Post on managing Python packages" name=description><meta content=website property=og:type><meta content=https://zebraalgebra-personal-page.netlify.app/blog/03-004/ property=og:url><meta property=og:site_name><meta content="<🐍 python> Python package management" property=og:title><meta content="Post on managing Python packages" property=og:description><meta content=https://zebraalgebra-personal-page.netlify.app/favicon.png property=og:image><meta content=summary_large_image property=twitter:card><meta content=https://zebraalgebra-personal-page.netlify.app/blog/03-004/ property=twitter:url><meta content="<🐍 python> Python package management" property=twitter:title><meta content="Post on managing Python packages" property=twitter:description><meta content=https://zebraalgebra-personal-page.netlify.app/favicon.png property=twitter:image><link href=https://zebraalgebra-personal-page.netlify.app/blog/03-004/ rel=canonical><link rel="shortcut icon" href=https://zebraalgebra-personal-page.netlify.app/favicon.png type=image/x-icon><link href=https://zebraalgebra-personal-page.netlify.app/css/style.css rel=stylesheet><script src=https://zebraalgebra-personal-page.netlify.app/js/script.js></script><body><div class=wrapper><header><nav class=navBar><a href=https://zebraalgebra-personal-page.netlify.app>/home/</a><a href=https://zebraalgebra-personal-page.netlify.app/about>/about/</a><a href=https://zebraalgebra-personal-page.netlify.app/blog>/blog/</a><a href=https://zebraalgebra-personal-page.netlify.app/contact>/contact/</a><a href=https://zebraalgebra-personal-page.netlify.app/projects>/projects/</a><div class=themeSwitch><button class="themeButton light" onclick="setTheme('light')" title="Light mode"><svg class="icons icons__background"><use href=https://zebraalgebra-personal-page.netlify.app/icons.svg#lightMode></use></svg></button><button class="themeButton dark" onclick="setTheme('dark')" title="Dark mode"><svg class="icons icons__background"><use href=https://zebraalgebra-personal-page.netlify.app/icons.svg#darkMode></use></svg></button></div></nav></header><main><h1><🐍 python> Python package management</h1><p>In this post, I will talk about the Python tools I use for managing Python packages.<h2 id=motivation>Motivation</h2><p>We often install packages via <code>pip</code> or <code>pip3</code>. For example, we can install numpy via:<pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>pip install numpy
</span></code></pre><p>Most of the time, this command will install things globally, so all Python files can freely import this package, which can be convenient.<p>However, some of the issues I encountered with this approach:<ol><li>Extra steps are needed to directly invoke things like <code>black</code> formatter or things like <code>cowsay</code> from the command line, if I needed, if I don’t want to type <code>python -m black some_python_filename.py</code>.<li>Sometimes I need to use older versions of packages for homeworks. Tweaking package versions on the global scope doesn’t feel right with me - what if I forgot to switch it back?</ol><p>The solution I found for my first problem was to use <code>pipx</code>, and the solution to my second one is to use <strong>virtual environments</strong> (specifically, I used <code>virtualenv</code>).<h2 id=pipx><code>pipx</code></h2><p><code>pipx</code> is just like <code>pip</code>, with other package managing functionalities.<p>To use it, install <code>pipx</code>, and do <code>pipx install packagename</code> to install packages. The command <code>pipx ensurepath</code> will ensure the <code>pipx</code> binary directories are added to <code>PATH</code>.<p>Now I can happily use <code>cowsay</code> (the <code>-c</code> flag indicates characters to do the cowsay, and the <code>-t</code> flag indicates what text to say):<pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>cowsay -c tux -t </span><span style=color:#b8bb26>"penguinsay"
</span></code></pre><pre style=background:#282828;color:#fdf4c1aa><code><span>  __________
</span><span>| penguinsay |
</span><span>  ==========
</span><span>               \
</span><span>                \
</span><span>                 \
</span><span>                  .--.
</span><span>                 |o_o |
</span><span>                 |:_/ |
</span><span>                //   \ \
</span><span>               (|     | )
</span><span>              /'\_   _/`\
</span><span>              \___)=(___/
</span></code></pre><p><em>Other useful commands</em>: One can use <code>pipx list</code> to list all packages, and use <code>pipx uninstall packagename</code> to uninstall things.<h2 id=virtualenv><code>virtualenv</code></h2><p>In a nutshell, virtual environments allows users to install packages and make it available only in the specified directory.<p>There are many ways to create and manage virtual environments. I like to use <code>virtualenv</code>. Other built-in Python tools like <code>venv</code> is also commonly-used. Some people also use <code>anaconda</code> to manage virtual environments.<p>The workflow are roughly as follows.<ol><li>Think of where you want to start a virtual environment.</ol><ul><li><p>If you already have an existing one, <code>cd</code> into that directory, run:</p> <pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>virtualenv .
</span></code></pre><li><p>If you want to create a new one with name <code>myenv</code>, <code>cd</code> into the parent directory of your desired directory for <code>myenv</code>, and run:</p> <pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>virtualenv myenv
</span></code></pre></ul><ol start=2><li>Now if you go inside your directory, you will see several new directories are created in there. It would look something like this:</ol><pre style=background:#282828;color:#fdf4c1aa><code><span>.
</span><span>├── .gitignore
</span><span>├── bin
</span><span>├── lib
</span><span>└── pyvenv.cfg
</span></code></pre><ol start=3><li>To activate the virtual environment, depending on which shell you are using:</ol><ul><li>For <code>bash</code>, <code>zsh</code>, run:</ul><pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fabd2f>source</span><span style=color:#fdf4c1> ./bin/activate
</span></code></pre><ul><li>If you are using other shells - such as Window’s command line, or Powershell, or <a href=https://fishshell.com/ rel=noopener target=_blank>fish</a>(this is the one I use), or nu, than you’ll need to change <code>activate</code> to <code>activate.bat</code> (command line), or <code>activate.ps1</code> (for Powershell), or <code>activate.fish</code> (for fish shell), or <code>activate.nu</code> (for nu shells). One can look at which activate files are present in the new <code>bin</code> directory to determine which script to use.</ul><ol start=4><li><p>After that, the appearance of your shell prompt should change, indicating that the virtual environment has been activated. After that, you may install all the Python packages you needed - these installations will only modify the files inside your current directory.</p><li><p>To deactivate, simply type <code>deactivate</code> in your shell.</p></ol><p class=tagsData><a href=/tags/python>/python/</a> <a href=/tags/package>/package/</a></main><footer><hr><div class=footContainer><div class=footLeft><p>Powered by <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a> with <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a> theme & <a rel="noopener noreferrer" href=https://github.com/Speyll/veqev target=_blank>veqev</a> colors.<br></div></div></footer></div>