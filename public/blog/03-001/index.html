<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><meta content="index, follow" name=robots><title>Joy with PuLP <🖥️ Programming></title><meta content="Joy with PuLP <🖥️ Programming>" name=title><meta content="Samuel Wang" name=author><meta content="Post on Python's PuLP" name=description><meta content=website property=og:type><meta content=https://zebraalgebra-personal-page.netlify.app/blog/03-001/ property=og:url><meta property=og:site_name><meta content="Joy with PuLP <🖥️ Programming>" property=og:title><meta content="Post on Python's PuLP" property=og:description><meta content=https://zebraalgebra-personal-page.netlify.app/favicon.png property=og:image><link href=https://zebraalgebra-personal-page.netlify.app/blog/03-001/ rel=canonical><link rel="shortcut icon" href=https://zebraalgebra-personal-page.netlify.app/favicon.png type=image/x-icon><link href=https://zebraalgebra-personal-page.netlify.app/css/style.css rel=stylesheet><script src=https://zebraalgebra-personal-page.netlify.app/js/script.js></script><body><div class=wrapper><header><nav class=navBar><a href=https://zebraalgebra-personal-page.netlify.app>/home/</a><a href=https://zebraalgebra-personal-page.netlify.app/about>/about/</a><a href=https://zebraalgebra-personal-page.netlify.app/blog>/blog/</a><a href=https://zebraalgebra-personal-page.netlify.app/contact>/contact/</a><a href=https://zebraalgebra-personal-page.netlify.app/projects>/projects/</a><div class=themeSwitch><button class="themeButton light" onclick="setTheme('light')" title="Light mode"><svg class="icons icons__background"><use href=https://zebraalgebra-personal-page.netlify.app/icons.svg#lightMode></use></svg></button><button class="themeButton dark" onclick="setTheme('dark')" title="Dark mode"><svg class="icons icons__background"><use href=https://zebraalgebra-personal-page.netlify.app/icons.svg#darkMode></use></svg></button></div></nav></header><main><h1>Joy with PuLP <🖥️ Programming></h1><h2 id=foreword>Foreword</h2><p><img alt src=../pulp.png><p><code>PuLP</code> is a powerful Python module for solving linear programming problems.<p>I used this tool in one of the homeworks of <code>ISYE 6501</code> - Introduction to Analytics Modeling, where we were asked to solve <em>the diet problem</em> - the exact data set is the same as the one given in this <a href=https://neos-guide.org/case-studies/om/the-diet-problem/ rel=noopener target=_blank>link</a>.<p>It is just so easy and intuitive to use, with very clear documentation.<p>The purpose of this post is to give a very brief overview on how to work with this module.<h2 id=basics-of-linear-program>Basics of Linear Program</h2><h3 id=anatomy-of-a-linear-program>Anatomy of a Linear Program</h3><p>A linear program mainly has the following three parts:<ol><li><strong>An objective function</strong> - a linear expression which we want to either maximize or minimize<li><strong>Some constraints</strong> - expressed as equalities or inequalities of linear expressions<li><strong>Variables</strong> - sometimes with additional bounds or restrictions (such as integrality).</ol><h3 id=a-basic-example>A Basic Example</h3><p>Let us use an artificial basic example as an aid for illustration.<ul><li><p>Johnny has <code>10</code> dollars, and wants to spend them on Oreo and Reese’s Puffs. Each unit of Oreo and Reese’s Puffs cost <code>3</code>, <code>4</code> dollars.</p><li><p>Johnny wants to maximize happiness, which he associated to each unit of Oreo or Reese’s Puffs numerical constants <code>11</code>, <code>12</code>.</p><li><p>Johnny can only buy integral unit amounts of these things.</p></ul><p>If we let <code>x</code> to be the variable for Oreo, and <code>y</code> the variable for Reese’s Puffs, then:<ol><li>The objective is to maximize <code>11x + 12y</code><li>The constraint is <code>3x + 4y <= 10</code><li>The variable restrictions are <code>x, y</code> has to be nonnegative integers.</ol><p>Now let us look at how to transpose this into a <code>PuLP</code> program.<h3 id=some-working-knowledge>Some Working Knowledge</h3><p>For the case where variables needn’t be integers or binaries, there are several good solvers, and most LP-solvers nowadays can solve such systems in a flash even when such system has an absurd amount of variables and constraints.<p>If we require the variables to be integers or binaries, then the problem is significantly harder to solve. For example, the <a href=https://en.wikipedia.org/wiki/Vertex_cover#Computational_problem rel=noopener target=_blank>minimum vertex problem</a> - which is NP complete - is a problem of this kind.<p>I highly recommend the short book <a href=https://link.springer.com/book/10.1007/978-3-540-30717-4 rel=noopener target=_blank>Understanding and Using Linear Programming</a> by Jiří Matoušek , Bernd Gärtner for looking into the maths and applications of lieanr programming.<h2 id=pulp-s-api-design><code>PuLP</code>’s API design</h2><h3 id=some-pulp-classes>Some <code>PuLP</code> classes</h3><p>Corresponding to the mathematical constituents of a linear program, <code>PuLP</code> has the following useful counterparts:<table><thead><tr><th>Class<th>Description<tbody><tr><td><code>LpVariable</code><td>A symbolic variable. Can be declared with a name, lower/upper bounds, or having type integer or binary.<tr><td><code>LpAffineExpression</code><td>A numeric combination of <code>LpVariable</code>s. It can be declared via a list of <code>[(LpVariable, coeff)]</code> pairs.<tr><td><code>LpConstraint</code><td>An <code>LpAffineExpression</code> with some additional infos - such as the inequality type, name of constraint.<tr><td><code>LpProblem</code><td>An environment for collecting the objective functions, constraints, variable infos, as well as executing the linar programming solvers.</table><h3 id=solving-the-problem-with-pulp>Solving the problem with <code>PuLP</code></h3><p>Some of the details of syntaxes are clear in the <a href=https://coin-or.github.io/pulp/technical/pulp.html rel=noopener target=_blank>internal documentations</a>.<pre class=language-python data-lang=python style=background:#282828;color:#fdf4c1aa><code class=language-python data-lang=python><span style=color:#fa5c4b>from </span><span>pulp </span><span style=color:#fa5c4b>import </span><span style=color:#d3869b>*
</span><span>
</span><span style=font-style:italic;color:#928374># Declare Variables
</span><span>var_x </span><span style=color:#fe8019>= </span><span style=color:#fdf4c1>LpVariable(name</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"Oreo"</span><span style=color:#fdf4c1>, lowBound</span><span style=color:#fe8019>=</span><span style=color:#d3869b>0</span><span style=color:#fdf4c1>, cat</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"Integer"</span><span style=color:#fdf4c1>)
</span><span>var_y </span><span style=color:#fe8019>= </span><span style=color:#fdf4c1>LpVariable(name</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"Reese's Puffs"</span><span style=color:#fdf4c1>, lowBound</span><span style=color:#fe8019>=</span><span style=color:#d3869b>0</span><span style=color:#fdf4c1>, cat</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"Integer"</span><span style=color:#fdf4c1>)
</span><span>
</span><span style=font-style:italic;color:#928374># Declare Expressions
</span><span>expr_obj </span><span style=color:#fe8019>= </span><span style=color:#fdf4c1>LpAffineExpression([(var_x, </span><span style=color:#d3869b>11</span><span style=color:#fdf4c1>), (var_y, </span><span style=color:#d3869b>12</span><span style=color:#fdf4c1>)])
</span><span>expr_constraint </span><span style=color:#fe8019>= </span><span style=color:#fdf4c1>LpAffineExpression([(var_x, </span><span style=color:#d3869b>3</span><span style=color:#fdf4c1>), (var_y, </span><span style=color:#d3869b>4</span><span style=color:#fdf4c1>)])
</span><span>
</span><span style=font-style:italic;color:#928374># Declare Constraints
</span><span>constraint </span><span style=color:#fe8019>= </span><span style=color:#fdf4c1>LpConstraint(expr_constraint, sense</span><span style=color:#fe8019>=-</span><span style=color:#d3869b>1</span><span style=color:#fdf4c1>, rhs</span><span style=color:#fe8019>=</span><span style=color:#d3869b>10</span><span style=color:#fdf4c1>)
</span><span>
</span><span style=font-style:italic;color:#928374># Declare Problem and Add Details to it
</span><span>problem </span><span style=color:#fe8019>= </span><span style=color:#fdf4c1>LpProblem(name</span><span style=color:#fe8019>=</span><span style=color:#b8bb26>"Johnny's Scheme"</span><span style=color:#fdf4c1>, sense</span><span style=color:#fe8019>=-</span><span style=color:#d3869b>1</span><span style=color:#fdf4c1>)
</span><span>problem </span><span style=color:#fe8019>+= </span><span>expr_obj
</span><span>problem </span><span style=color:#fe8019>+= </span><span>constraint
</span><span>
</span><span style=font-style:italic;color:#928374># Call Solve
</span><span style=color:#fdf4c1>problem.solve()
</span><span>
</span><span style=color:#fabd2f>print</span><span style=color:#fdf4c1>(</span><span style=color:#fa5c4b>f</span><span style=color:#b8bb26>"Status Code: </span><span style=color:#fdf4c1>{problem.status}</span><span style=color:#b8bb26>"</span><span style=color:#fdf4c1>) </span><span style=font-style:italic;color:#928374># 1 = success
</span><span style=color:#fabd2f>print</span><span style=color:#fdf4c1>(</span><span style=color:#fa5c4b>f</span><span style=color:#b8bb26>"Result:"</span><span style=color:#fdf4c1>)
</span><span style=color:#fabd2f>print</span><span style=color:#fdf4c1>({v.name: v.varValue </span><span style=color:#fa5c4b>for </span><span style=color:#fdf4c1>v </span><span style=color:#fa5c4b>in </span><span style=color:#fdf4c1>problem.variables()})
</span><span>
</span><span style=font-style:italic;color:#928374># output:
</span><span style=font-style:italic;color:#928374># ...
</span><span style=font-style:italic;color:#928374># Status Code: 1
</span><span style=font-style:italic;color:#928374># Result:
</span><span style=font-style:italic;color:#928374># {'Oreo': 2.0, "Reese's_Puffs": 1.0}
</span></code></pre><p>Now Johnny’s happy 😊.<p class=tagsData></main><footer><hr><div class=footContainer><div class=footLeft><p>Powered by <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a> with <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a> theme & <a rel="noopener noreferrer" href=https://github.com/Speyll/veqev target=_blank>veqev</a> colors.<br></div></div></footer></div>